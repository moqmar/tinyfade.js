/*
 * Tinyfade - responsive image slideshow backgrounds with plain javascript.
 *
 * Version 1.0
 * Copyright (c) 2017 Moritz Marquardt
 * Licensed under MIT License
 */
function Tinyfade(t,e,i){if(Object.getPrototypeOf(this)!=Tinyfade.prototype)throw new Error("Tinyfade not called as a constructor");this.e="string"==typeof t?document.querySelector(t):t,this.e.classList.add("tinyfade-js"),this.c=this.e.firstElementChild,this.c.classList.add("tinyfade-current"),this.l={},this.s=i,void 0==this.s&&(this.s=750);let s=document.createElement("style");s.textContent=".tinyfade img {transition: opacity "+this.s+"ms}",this.e.insertBefore(s,this.c),this.i=e||5e3,this.i>0&&(this.j=setInterval(t=>t.next(),this.i,this))}Tinyfade.prototype.goto=function(t){if(!this.e)throw new Error("This Tinyfade instance has been destroyed.");t.classList.add("tinyfade-current"),this.c.classList.add("tinyfade-last"),this.c.classList.remove("tinyfade-current"),setTimeout(t=>t.classList.remove("tinyfade-last"),this.s,this.c),this.fire("goto",t,this.c),this.c=t},Tinyfade.prototype.next=function(){if(!this.e)throw new Error("This Tinyfade instance has been destroyed.");let t=this.c.nextElementSibling||this.e.firstElementChild.nextElementSibling;this.goto(t)},Tinyfade.prototype.prev=function(){if(!this.e)throw new Error("This Tinyfade instance has been destroyed.");let t=this.c.previousElementSibling;t&&"STYLE"!=t.tagName||(t=this.e.lastElementChild),this.goto(t)},Tinyfade.prototype.pause=function(){if(null==this.j)throw new Error("This Tinyfade instance is paused or has been destroyed.");clearInterval(this.j),this.j=null},Tinyfade.prototype.continue=function(){if(null!=this.j)throw new Error("This Tinyfade instance is already running.");if(!this.e)throw new Error("This Tinyfade instance has been destroyed.");this.i>0&&(this.j=setInterval(t=>t.next(),this.i,this))},Tinyfade.prototype.destroy=function(){if(!this.e)throw new Error("This Tinyfade instance has been destroyed.");this.e.classList.remove("tinyfade-js"),this.c.classList.remove("tinyfade-current"),this.e.getElementsByClassName("tinyfade-last").classList.remove("tinyfade-last"),this.e.removeChild(this.e.firstElementChild),clearInterval(this.j),this.e=this.c=this.l=this.s=this.i=this.j=null},Tinyfade.prototype.addEventListener=function(t,e){if(!this.e)throw new Error("This Tinyfade instance has been destroyed.");this.l[t]||(this.l[t]=[]),this.l[t].push(e)},Tinyfade.prototype.fire=function(t,...e){(this.l[t]||[]).forEach(t=>t(...e))};
